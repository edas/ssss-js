
# ssss-js

## Fork Notes

### This fork

This tool is a fork of <https://github.com/lbeder/ssss-js> and has been modified to:

- Fix errors in tests and linting
- Update dependencies to the latest versions
- Move build scripts in package.json instead of makefile
- Migrate to ES6 modules
- Use Vite for building the HTML example
- Use native BigInt instead of bignumber.js
- Use native WebCrypto instead of the node crypto module
- Refactor SSSS to be Javascript class

The one-file HTML is not a goal for this version. It is meant to be use elsewhere.

### Fork of Lebder

The Lebder's version is itself a fork of <https://github.com/gburca/ssss-js> and has been extended to include the following features:

1. Extension/generation of additional shares from an existing threshold of shares.
2. Support for raw entropy export/import. Please note that raw entropy is serialized as-is into the coefficients of the polynomial; therefore, it must be of the exact length. Please be aware that using raw entropy can be risky. It is crucial to ensure that you are using a source of strong and high-quality entropy.

### Original Gburca version

This project is a JavaScript version of [Shamir's Secret Sharing
Scheme](https://en.wikipedia.org/wiki/Shamir%27s_Secret_Sharing). It has 2
distinguishing features:

1. It is interoperable and compatible with B. Poettering's Linux `ssss` utility
   (`ssss-split` and `ssss-combine`) from <http://point-at-infinity.org/ssss/> so
   keys/shares can be created with one and recovered with the other. That
   project was used as the reference implementation for this project.
2. It consists of a single `html` file which includes everything needed to
   split and combine a secret (no network connection needed). As a result it is
   fully usable from Windows, Mac OSX, Linux, and other operating systems with
   a modern browser.

There are some other implementations of Shamir's Secret Sharing Scheme (SSSS)
floating around, but none seem to be compatible with each other. The Linux
utility is great (which is why this project is compatible with it), but chances
are the people you want to share the secret with are not running Linux.

The author of the Linux utility maintains a web page where the utility can be
demo'd, but the author notes that it's not secure and should not be used for
sensitive data.

The [ssss.html](https://ebixio.com/ssss.html) file generated by this project
has no server dependencies (or any other external dependencies) and is as
secure as the browser or PC it's being used on. Additionally, it eliminates the
need to rely on a 3rd party web site page that may or may not be available in
the future.

## Usage

```
import ssss from './ssss.js';
const threshold = 3;
const shares = 5; // only important for `split`
const hexInput = false;
const s = new ssss(threshold, numShares, hexInput);

// generate keys
const prefix = "20251231"; // may not contain "-" 
const secret = "my little secret"; // ascii for hexInput=false
const [keys] = s.split(secret, prefix, options);


// recover the secret
conse usedKeys = keys.slice(0, 3);
const recoveredSecret = s.combine(usedKeys);

// generate missing or new keys
const newShare = s.extend(keys, threshold, token); 
```

Or try `pnpm run build` and open the file in dist/example.html

## Build and contributions

```
pnpm install
pnpm run dev
```

```
pnpm run lint
pnpm run test
```